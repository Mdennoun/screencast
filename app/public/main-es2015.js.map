{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app.component.html","./src/app/components/client/client.component.html","./src/app/components/home/home.component.html","./src/app/components/moderator/moderator.component.html","./src/app/components/observer/observer.component.html","./node_modules/tslib/tslib.es6.js","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/components/client/client.component.ts","./src/app/components/home/home.component.ts","./src/app/components/moderator/moderator.component.ts","./src/app/components/observer/observer.component.ts","./src/app/models/User.ts","./src/app/services/user.service.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","export default \"<div class=\\\"page-header\\\">\\n  <h1>PCK Screencasting</h1>\\n</div>\\n\\n<div class=\\\"container\\\">\\n  <router-outlet></router-outlet>\\n</div>\\n\"","export default \"<h2 class=\\\"text-center\\\">{{ client?.user?.id }}</h2>\\n\\n<video #video height=\\\"200\\\" width=\\\"270\\\" autoplay>\\n  Your browser does not support HTML5 video.\\n</video>\\n\\n<video #videoScreenShare height=\\\"200\\\" width=\\\"270\\\" autoplay>\\n  Your browser does not support HTML5 video.\\n</video>\\n\\n<div class=\\\"incoming\\\">\\n  <h2>Moderator</h2>\\n\\n  <video #incomingVideo autoplay height=\\\"500\\\" width=\\\"670\\\">\\n    Your browser does not support HTML5 video.\\n  </video>\\n</div>\\n\"","export default \"<p>\\n  <a [routerLink]=\\\"['/moderator']\\\">Je suis mod√©rateur</a>\\n</p>\\n\\n<p>\\n  <a [routerLink]=\\\"['/client']\\\">Je suis client</a>\\n</p>\\n\\n<p>\\n  <a [routerLink]=\\\"['/observer']\\\">Je suis observateur</a>\\n</p>\\n\\n<div class=\\\"login-form col-md-6 offset-md-3 align-center\\\">\\n  <form [formGroup]=\\\"loginForm\\\" (ngSubmit)=\\\"onLogin()\\\">\\n    <div class=\\\"form-group\\\">\\n      <label for=\\\"username\\\">Nom du compte</label>\\n      <input\\n        type=\\\"text\\\"\\n        class=\\\"form-control\\\"\\n        id=\\\"username\\\"\\n        formControlName=\\\"username\\\"\\n        autocomplete=\\\"on\\\"\\n      />\\n    </div>\\n\\n    <div class=\\\"form-group\\\">\\n      <label for=\\\"password\\\">Mot de passe</label>\\n      <input\\n        type=\\\"password\\\"\\n        class=\\\"form-control\\\"\\n        id=\\\"password\\\"\\n        formControlName=\\\"password\\\"\\n        autocomplete=\\\"on\\\"\\n      />\\n    </div>\\n\\n    <div class=\\\"text-center\\\">\\n      <input class=\\\"btn btn-primary\\\" type=\\\"submit\\\" value=\\\"Connexion\\\" />\\n    </div>\\n  </form>\\n</div>\\n\"","export default \"<h2 class=\\\"text-center\\\">{{ connectedUser?.id }}</h2>\\n\\n<video #video height=\\\"200\\\" width=\\\"270\\\" autoplay>\\n  Your browser does not support HTML5 video.\\n</video>\\n\\n<div class=\\\"incoming\\\">\\n  <h2>Client</h2>\\n\\n  <div class=\\\"embed-responsive embed-responsive-16by9\\\">\\n    <video #incomingAudio autoplay style=\\\"display: none\\\">\\n      Your browser does not support HTML5 video.\\n    </video>\\n    <video #incomingVideo autoplay>\\n      Your browser does not support HTML5 video.\\n    </video>\\n  </div>\\n\\n  <div class=\\\"embed-responsive embed-responsive-16by9\\\">\\n    <video #incomingVideoScreenShare autoplay>\\n      Your browser does not support HTML5 video.\\n    </video>\\n  </div>\\n</div>\\n\"","export default \"<h2 class=\\\"text-center\\\">{{ client?.user?.id }}</h2>\\n\\n<div class=\\\"incoming\\\">\\n  <h2>Moderator</h2>\\n\\n  <video #incomingModeratorVideo height=\\\"200\\\" width=\\\"270\\\" autoplay>\\n    Your browser does not support HTML5 video.\\n  </video>\\n</div>\\n\\n<div class=\\\"incoming\\\">\\n  <h2>Client</h2>\\n\\n  <video\\n    #incomingClientAudio\\n    height=\\\"200\\\"\\n    width=\\\"270\\\"\\n    autoplay\\n    style=\\\"display: none\\\"\\n  >\\n    Your browser does not support HTML5 video.\\n  </video>\\n\\n  <video #incomingClientVideo height=\\\"200\\\" width=\\\"270\\\" autoplay>\\n    Your browser does not support HTML5 video.\\n  </video>\\n\\n  <video #incomingClientVideoScreenShare autoplay height=\\\"500\\\" width=\\\"670\\\">\\n    Your browser does not support HTML5 video.\\n  </video>\\n</div>\\n\"","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { NgModule } from \"@angular/core\";\nimport { Routes, RouterModule } from \"@angular/router\";\nimport { ModeratorComponent } from \"./components/moderator/moderator.component\";\nimport { ObserverComponent } from \"./components/observer/observer.component\";\nimport { ClientComponent } from \"./components/client/client.component\";\nimport { HomeComponent } from \"./components/home/home.component\";\n\nconst routes: Routes = [\n  {\n    path: \"\",\n    redirectTo: \"home\",\n    pathMatch: \"full\"\n  },\n  {\n    path: \"home\",\n    component: HomeComponent\n  },\n  {\n    path: \"moderator\",\n    component: ModeratorComponent\n  },\n  {\n    path: \"observer\",\n    component: ObserverComponent\n  },\n  {\n    path: \"client\",\n    component: ClientComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule {}\n","import { Component } from \"@angular/core\";\n\n@Component({\n  selector: \"app-root\",\n  templateUrl: \"./app.component.html\"\n})\nexport class AppComponent {}\n","// Modules\nimport { BrowserModule } from \"@angular/platform-browser\";\nimport { NgModule } from \"@angular/core\";\nimport { AppRoutingModule } from \"./app-routing.module\";\n\n// Components\nimport { AppComponent } from \"./app.component\";\n\n// Services\nimport { ObserverComponent } from \"./components/observer/observer.component\";\nimport { ModeratorComponent } from \"./components/moderator/moderator.component\";\nimport { ClientComponent } from \"./components/client/client.component\";\nimport { HomeComponent } from \"./components/home/home.component\";\nimport { ReactiveFormsModule } from \"@angular/forms\";\nimport { UserService } from \"./services/user.service\";\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    ObserverComponent,\n    ModeratorComponent,\n    ClientComponent,\n    HomeComponent\n  ],\n  imports: [BrowserModule, ReactiveFormsModule, AppRoutingModule],\n  providers: [UserService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {}\n","import {\n  Component,\n  AfterViewInit,\n  ViewChild,\n  ElementRef,\n  OnInit\n} from \"@angular/core\";\nimport {\n  SocketMessage,\n  UserJoinedSocketMessage,\n  UserSocketMessage\n} from \"../../models/SocketMessage\";\nimport { environment } from \"src/environments/environment\";\nimport { User } from \"src/app/models/User\";\n\n@Component({\n  templateUrl: \"./client.component.html\"\n})\nexport class ClientComponent implements OnInit, AfterViewInit {\n  @ViewChild(\"video\", { static: false })\n  private readonly videoRef: ElementRef;\n\n  @ViewChild(\"videoScreenShare\", { static: false })\n  private readonly videoScreenShareRef: ElementRef;\n\n  @ViewChild(\"incomingVideo\", { static: false })\n  private readonly incomingVideoRef: ElementRef;\n\n  client: {\n    socket: WebSocket;\n    user: User;\n  };\n\n  private currentUserHtmlElements: {\n    video: HTMLVideoElement;\n    videoScreenShare: HTMLVideoElement;\n  };\n\n  private moderatorHtmlElements: {\n    video: HTMLVideoElement;\n  };\n\n  private peerConnections: { [id: string]: RTCPeerConnection } = {};\n\n  private localStream: MediaStream;\n\n  private streamScreenShare: MediaStream;\n\n  /**\n   * Google server as our stun server\n   */\n  private readonly configuration: Readonly<RTCConfiguration> = {\n    iceServers: [{ urls: \"stun:stun.l.google.com:19302\" }],\n    // @ts-ignore\n    sdpSemantics: \"plan-b\"\n  };\n\n  private receiveAnswer(data: UserSocketMessage): void {\n    const payload = data.payload as RTCSessionDescription;\n    this.peerConnections[data.user.id].setRemoteDescription(payload);\n  }\n\n  private receiveOffer(data: UserSocketMessage): void {\n    const payload = data.payload as RTCSessionDescription;\n\n    if (!this.peerConnections[data.user.id]) {\n      this.peerConnections[data.user.id] = new RTCPeerConnection(\n        this.configuration\n      );\n    }\n\n    this.peerConnections[data.user.id]\n      .setRemoteDescription(payload)\n      .then(() => this.peerConnections[data.user.id].createAnswer())\n      .then(sdp => this.peerConnections[data.user.id].setLocalDescription(sdp))\n      .then(() => {\n        this.sendSocketMessage(data.user.id, {\n          payload: this.peerConnections[data.user.id].localDescription,\n          streamType: data.streamType,\n          type: data.type\n        });\n      });\n  }\n\n  constructor() {}\n\n  ngOnInit() {\n    const user = new User(\"client\");\n    this.displayMyStream(user.id).then(() => {\n      const socket = new WebSocket(\n        `${environment.webSocketUrl}?userId=${user.id}&userType=${user.type}`\n      );\n      this.client = {\n        socket,\n        user\n      };\n\n      socket.onopen = (event: MessageEvent) => {\n        console.log(\"Connection Established\", event);\n        this.sendPing(socket);\n      };\n\n      socket.onmessage = (event: MessageEvent) => {\n        const data: UserSocketMessage = JSON.parse(event.data);\n        console.log(\"Message received\", data);\n\n        // Someone joined the stream\n        if (data.type === \"UserJoined\") {\n          // Someone joined the stream\n          const userJoinedSocketMessage = data as UserJoinedSocketMessage;\n          this.onUserJoined(userJoinedSocketMessage.allUsers);\n        } else if (data.type === \"UserLeft\") {\n          this.removeUserFromStream(data.user.id);\n        } else {\n          this.gotMessageFromServer(socket, data);\n        }\n      };\n\n      socket.onclose = (event: CloseEvent) => {\n        // Close Camera & Audio peer connection\n        for (let key in this.peerConnections) {\n          this.peerConnections[key].close();\n          delete this.peerConnections[key];\n        }\n\n        // Clear associated html elements\n        console.log(\"someone left\");\n      };\n\n      window.onunload = window.onbeforeunload = () => {\n        socket.close();\n      };\n    });\n  }\n  private sendPing(\n    webSocket: WebSocket) : void {\n\n    setTimeout(() => {\n        webSocket.send(JSON.stringify({ type: \"PingClient\" }));\n      }, 10000); // in milliseconds\n    \n\n  }\n\n  private gotMessageFromServer(\n    webSocket: WebSocket,\n    data: UserSocketMessage\n  ): void {\n   \n    if (data.type === \"Pong\") {\n      this.sendPing(webSocket);\n       return;\n     }\n\n    \n    if (this.client.user.id === data.user.id) return;\n\n    switch (data.payload.type) {\n      case \"answer\":\n        this.receiveAnswer(data);\n        break;\n      case \"offer\":\n        this.receiveOffer(data);\n        break;\n      case undefined:\n        this.peerConnections[data.user.id].addIceCandidate(\n          new RTCIceCandidate(data.payload as RTCIceCandidate)\n        );\n        break;\n      default:\n        console.log(\"oops\", data);\n        break;\n    }\n  }\n\n  private onUserJoined(allUsers: User[]): void {\n    allUsers.forEach(user => {\n      if (user.id === this.client.user.id) return;\n\n      if (!this.peerConnections[user.id]) {\n        this.peerConnections[user.id] = new RTCPeerConnection(\n          this.configuration\n        );\n\n        this.peerConnections[user.id].onicecandidate = iceEvent => {\n          if (iceEvent.candidate) {\n            this.sendSocketMessage(user.id, {\n              payload: iceEvent.candidate,\n              streamType: \"video\",\n              type: \"IceCandidate\"\n            });\n          }\n        };\n\n        if (user.type === \"moderator\") {\n          // @ts-ignore\n          this.peerConnections[user.id].ontrack = event => {\n            let stream: MediaStream;\n            if (event.streams && event.streams[0]) {\n              stream = event.streams[0];\n            } else {\n              console.log(\"nothing to stream\");\n              return;\n            }\n\n            console.log(`streaming ${stream.id}`);\n            this.moderatorHtmlElements.video.srcObject = stream;\n          };\n        }\n\n        this.peerConnections[user.id].onnegotiationneeded = () => {\n          this.peerConnections[user.id]\n            .createOffer()\n            .then(description =>\n              this.peerConnections[user.id].setLocalDescription(description)\n            )\n            .then(() => {\n              this.sendSocketMessage(user.id, {\n                payload: this.peerConnections[user.id].localDescription,\n                streamType: \"video\",\n                type: \"SessionDescription\"\n              });\n            });\n        };\n\n        this.localStream\n          .getTracks()\n          .forEach(track =>\n            this.peerConnections[user.id].addTrack(track, this.localStream)\n          );\n\n        // Send screencapture stream to peer\n        this.streamScreenShare\n          .getTracks()\n          .forEach(track =>\n            this.peerConnections[user.id].addTrack(\n              track,\n              this.streamScreenShare\n            )\n          );\n      }\n    });\n  }\n\n  private removeUserFromStream(userId: string): void {\n    console.log(\"removing user from stream\");\n    if (this.peerConnections[userId]) {\n      this.peerConnections[userId].close();\n      delete this.peerConnections[userId];\n    }\n  }\n\n  private sendSocketMessage(toUserId: string, message: SocketMessage): void {\n    this.client.socket.send(\n      JSON.stringify({\n        ...message,\n        user: this.client.user,\n        toUserId\n      })\n    );\n  }\n\n  private async displayMyStream(userId: string): Promise<any> {\n    if (this.localStream) {\n      this.localStream.getTracks().forEach(track => track.stop());\n    }\n\n    if (this.streamScreenShare) {\n      this.streamScreenShare.getTracks().forEach(track => track.stop());\n    }\n\n    try {\n      this.localStream = await navigator.mediaDevices.getUserMedia({\n        audio: true,\n        video: true\n      });\n      this.gotStream(this.currentUserHtmlElements.video, this.localStream);\n\n      // @ts-ignore\n      this.streamScreenShare = await navigator.mediaDevices.getDisplayMedia({\n        video: true\n      });\n      this.gotStream(\n        this.currentUserHtmlElements.videoScreenShare,\n        this.streamScreenShare\n      );\n\n      return Promise.resolve();\n    } catch (err) {\n      return this.logError(\n        err,\n        \"Make sure your microphone or your camera are connected\"\n      );\n    }\n  }\n\n  private gotStream(videoElement: HTMLVideoElement, stream: MediaStream): void {\n    videoElement.srcObject = stream;\n    videoElement.muted = true;\n  }\n\n  ngAfterViewInit(): void {\n    this.currentUserHtmlElements = {\n      video: this.videoRef.nativeElement,\n      videoScreenShare: this.videoScreenShareRef.nativeElement\n    };\n\n    this.moderatorHtmlElements = {\n      video: this.incomingVideoRef.nativeElement\n    };\n  }\n\n  private logError(err: any, message: string): Promise<void> {\n    console.log(err.toString(), err, message);\n    return Promise.reject({\n      error: err.toString(),\n      message\n    });\n  }\n}\n","import { Component } from \"@angular/core\";\nimport { UserService } from \"src/app/services/user.service\";\nimport { FormBuilder, FormGroup } from \"@angular/forms\";\nimport { User } from \"src/app/models/User\";\nimport { Router } from \"@angular/router\";\n\n@Component({\n  templateUrl: \"./home.component.html\"\n})\nexport class HomeComponent {\n  readonly loginForm: FormGroup;\n\n  constructor(\n    private readonly userService: UserService,\n    private readonly router: Router,\n    formBuilder: FormBuilder\n  ) {\n    this.loginForm = formBuilder.group({\n      username: \"\",\n      password: \"\"\n    });\n  }\n\n  onLogin(): void {\n    const formValues: LoginFormValues = this.loginForm.value;\n\n    this.userService\n      .authenticate(formValues.username, formValues.password)\n      .subscribe((result: User) => {\n        if (result) {\n          switch (result.type) {\n            case \"moderator\":\n              this.router.navigate([\"/moderator\"]);\n              break;\n            case \"client\":\n              this.router.navigate([\"/client\"]);\n              break;\n            case \"observer\":\n              this.router.navigate([\"/observer\"]);\n              break;\n          }\n        }\n      });\n  }\n}\n\ninterface LoginFormValues {\n  username: string;\n\n  password: string;\n}\n","import {\n  Component,\n  ViewChild,\n  ElementRef,\n  AfterViewInit,\n  OnInit\n} from \"@angular/core\";\nimport {\n  SocketMessage,\n  UserJoinedSocketMessage,\n  UserSocketMessage\n} from \"../../models/SocketMessage\";\nimport { environment } from \"src/environments/environment\";\nimport { User } from \"src/app/models/User\";\n\n@Component({\n  templateUrl: \"./moderator.component.html\"\n})\nexport class ModeratorComponent implements OnInit, AfterViewInit {\n  @ViewChild(\"video\", { static: false })\n  private readonly videoRef: ElementRef;\n\n  @ViewChild(\"incomingVideo\", { static: false })\n  private readonly incomingVideoRef: ElementRef;\n\n  @ViewChild(\"incomingAudio\", { static: false })\n  private readonly incomingAudioRef: ElementRef;\n\n  @ViewChild(\"incomingVideoScreenShare\", { static: false })\n  private readonly incomingVideoScreenShareRef: ElementRef;\n\n  private currentUserHtmlElements: {\n    video: HTMLVideoElement;\n  };\n\n  private clientHtmlElements: {\n    audio: HTMLVideoElement;\n    video: HTMLVideoElement;\n    videoScreenShare: HTMLVideoElement;\n  };\n\n  private peerConnections: { [id: string]: RTCPeerConnection } = {};\n\n  private localStream: MediaStream;\n\n  connectedUser: User;\n\n  /**\n   * Google server as our stun server\n   */\n  private readonly configuration: Readonly<RTCConfiguration> = {\n    iceServers: [{ urls: \"stun:stun.l.google.com:19302\" }],\n    // @ts-ignore\n    sdpSemantics: \"plan-b\"\n  };\n\n  private receiveAnswer(data: UserSocketMessage): void {\n    console.log(`recieveAnswer ${data.streamType} ${data.user.id}`);\n\n    const payload: RTCSessionDescription = data.payload as RTCSessionDescription;\n    this.peerConnections[data.user.id].setRemoteDescription(payload);\n  }\n\n  private receiveOffer(socket: WebSocket, data: UserSocketMessage): void {\n    console.log(`recieveOffer ${data.streamType} ${data.user.id}`);\n    const payload = data.payload as RTCSessionDescription;\n\n    this.peerConnections[data.user.id]\n      .setRemoteDescription(payload)\n      .then(() => this.peerConnections[data.user.id].createAnswer())\n      .then(sdp => this.peerConnections[data.user.id].setLocalDescription(sdp))\n      .then(() => {\n        console.log(`recieveOffer send sdp ${data.streamType} ${data.user.id}`);\n        this.sendSocketMessage(socket, data.user.id, {\n          payload: this.peerConnections[data.user.id].localDescription,\n          streamType: data.streamType,\n          type: data.type\n        });\n      });\n  }\n\n  constructor() {}\n\n  ngOnInit() {\n    const user = new User(\"moderator\");\n    this.displayMyStream().then(() => {\n      const socket = new WebSocket(\n        `${environment.webSocketUrl}?userId=${user.id}&userType=${user.type}`\n      );\n\n      this.connectedUser = user;\n\n      socket.onopen = (event: MessageEvent) => {\n        console.log(\"Connection Established\", event);\n        this.sendPing(socket);\n      };\n\n      socket.onmessage = (event: MessageEvent) => {\n        const data: UserSocketMessage = JSON.parse(event.data);\n\n        console.log(\"Message received\", data);\n\n        if (data.type === \"UserJoined\") {\n          // Someone joined the stream\n          const userJoinedSocketMessage = data as UserJoinedSocketMessage;\n          this.onUserJoined(socket, userJoinedSocketMessage.allUsers);\n        } else if (data.type === \"UserLeft\") {\n          // Someone left the stream\n          this.removeUserFromStream(data.user.id);\n        } else {\n          this.gotMessageFromServer(socket, data);\n        }\n      };\n\n      socket.onclose = (event: CloseEvent) => {\n        console.log(\"Connection Closed\");\n        this.onConnectionClosed();\n      };\n\n      window.onunload = window.onbeforeunload = () => {\n        socket.close();\n      };\n    });\n  }\n\n  private onConnectionClosed(): void {\n    // Close Camera & Audio peer connection\n    for (let key in this.peerConnections) {\n      this.peerConnections[key].close();\n      delete this.peerConnections[key];\n    }\n\n    // Clear associated html elements\n  }\n\n  private onUserJoined(webSocket: WebSocket, allUsers: User[]): void {\n    allUsers.forEach(user => {\n      //\n      if (user.id === this.connectedUser.id) return;\n\n      //\n      if (!this.peerConnections[user.id]) {\n        console.log(`creating peer connection ${user.id}`);\n        this.peerConnections[user.id] = new RTCPeerConnection(\n          this.configuration\n        );\n\n        console.log(`onicecandidate ${user.id}`);\n        this.peerConnections[user.id].onicecandidate = iceEvent => {\n          if (iceEvent.candidate) {\n            this.sendSocketMessage(webSocket, user.id, {\n              payload: iceEvent.candidate,\n              streamType: \"video\",\n              type: \"IceCandidate\"\n            });\n          }\n        };\n\n        if (user.type === \"client\") {\n          console.log(`ontrack ${user.id}`);\n          var counter = 0;\n\n          //@ts-ignore\n          this.peerConnections[user.id].ontrack = event => {\n            console.log(\"streaming their video here\");\n\n            let stream: MediaStream;\n            if (event.streams && event.streams[0]) {\n              stream = event.streams[0];\n            } else {\n              console.log(\"nothing to stream\");\n              return;\n            }\n\n            if (stream.getAudioTracks().length) {\n              this.clientHtmlElements.audio.srcObject = stream;\n              if (stream.getVideoTracks().length) {\n                this.clientHtmlElements.video.srcObject = stream;\n                counter = 1;\n              }\n            } else {\n              if (++counter == 2) {\n                this.clientHtmlElements.videoScreenShare.srcObject = stream;\n                counter = 0;\n              } else {\n                this.clientHtmlElements.video.srcObject = stream;\n              }\n            }\n          };\n        }\n\n        console.log(`addtrack localstream ${user.id}`);\n        // Send local stream to peer\n        this.localStream\n          .getTracks()\n          .forEach(track =>\n            this.peerConnections[user.id].addTrack(track, this.localStream)\n          );\n\n        // Video\n        if (user.type === \"observer\") {\n          this.peerConnections[user.id].onnegotiationneeded = () => {\n            this.peerConnections[user.id]\n              .createOffer()\n              .then(description =>\n                this.peerConnections[user.id].setLocalDescription(description)\n              )\n              .then(() => {\n                console.log(`onnegotiationneeded send sdp ${user.id}`);\n                this.sendSocketMessage(webSocket, user.id, {\n                  payload: this.peerConnections[user.id].localDescription,\n                  streamType: \"video\",\n                  type: \"SessionDescription\"\n                });\n              });\n          };\n        }\n      }\n    });\n  }\n\n  private sendPing(\n    webSocket: WebSocket) : void {\n\n    setTimeout(() => {\n        webSocket.send(JSON.stringify({ type: \"PingModo\" }));\n      }, 10000); // in milliseconds\n    \n\n  }\n\n  private gotMessageFromServer(\n    webSocket: WebSocket,\n    data: UserSocketMessage\n  ): void {\n     if (data.type === \"Pong\") {\n      this.sendPing(webSocket);\n       return;\n     }\n    \n    if (this.connectedUser.id === data.user.id) return;\n\n    switch (data.payload.type) {\n      case \"answer\":\n        this.receiveAnswer(data);\n        break;\n      case \"offer\":\n        this.receiveOffer(webSocket, data);\n        break;\n      case undefined:\n        console.log(\"icecandidate\");\n        this.peerConnections[data.user.id].addIceCandidate(\n          new RTCIceCandidate(data.payload as RTCIceCandidateInit)\n        );\n        break;\n      default:\n        console.log(\"oops\", data);\n        break;\n    }\n  }\n\n  ngAfterViewInit(): void {\n    this.currentUserHtmlElements = {\n      video: this.videoRef.nativeElement\n    };\n\n    this.clientHtmlElements = {\n      audio: this.incomingAudioRef.nativeElement,\n      video: this.incomingVideoRef.nativeElement,\n      videoScreenShare: this.incomingVideoScreenShareRef.nativeElement\n    };\n  }\n\n  private sendSocketMessage(\n    webSocket: WebSocket,\n    toUserId: string,\n    message: SocketMessage\n  ): void {\n    webSocket.send(\n      JSON.stringify({\n        ...message,\n        user: this.connectedUser,\n        toUserId\n      })\n    );\n  }\n\n  private removeUserFromStream(userId: string): void {\n    console.log(\"removing user from stream\");\n    if (this.peerConnections[userId]) {\n      this.peerConnections[userId].close();\n      delete this.peerConnections[userId];\n    }\n  }\n\n  private async displayMyStream(): Promise<any> {\n    if (this.localStream) {\n      this.localStream.getTracks().forEach(track => track.stop());\n    }\n\n    try {\n      this.localStream = await navigator.mediaDevices.getUserMedia({\n        audio: true,\n        video: true\n      });\n\n      this.currentUserHtmlElements.video.srcObject = this.localStream;\n      this.currentUserHtmlElements.video.muted = true;\n\n      return Promise.resolve();\n    } catch (err) {\n      return this.logError(err, \"error displaying stream\");\n    }\n  }\n\n  private logError(err: any, message: string): Promise<void> {\n    console.log(err.toString(), err, message);\n    return Promise.reject({\n      error: err.toString(),\n      message\n    });\n  }\n}\n","import {\n  Component,\n  ViewChild,\n  ElementRef,\n  AfterViewInit,\n  OnInit\n} from \"@angular/core\";\nimport { environment } from \"src/environments/environment\";\nimport {\n  SocketMessage,\n  UserSocketMessage,\n  UserJoinedSocketMessage\n} from \"../../models/SocketMessage\";\nimport { User } from \"src/app/models/User\";\n\n@Component({\n  templateUrl: \"./observer.component.html\"\n})\nexport class ObserverComponent implements OnInit, AfterViewInit {\n  @ViewChild(\"incomingModeratorVideo\", { static: false })\n  private readonly incomingModeratorVideoRef: ElementRef;\n\n  @ViewChild(\"incomingClientAudio\", { static: false })\n  private readonly incomingClientAudioRef: ElementRef;\n\n  @ViewChild(\"incomingClientVideo\", { static: false })\n  private readonly incomingClientVideoRef: ElementRef;\n\n  @ViewChild(\"incomingClientVideoScreenShare\", { static: false })\n  private readonly incomingClientVideoScreenShareRef: ElementRef;\n\n  private moderatorHtmlElements: {\n    video: HTMLVideoElement;\n  };\n\n  private clientHtmlElements: {\n    audio: HTMLVideoElement;\n    video: HTMLVideoElement;\n    videoScreenShare: HTMLVideoElement;\n  };\n\n  private moderatorId: string = \"\";\n  private peerConnectionModerator: RTCPeerConnection;\n\n  private clientId: string = \"\";\n  private peerConnectionClient: RTCPeerConnection;\n\n  client: {\n    socket: WebSocket;\n    user: User;\n  };\n\n  /**\n   * Google server as our stun server\n   */\n  private readonly configuration: Readonly<RTCConfiguration> = {\n    iceServers: [\n      {\n        urls: [\"stun:stun.l.google.com:19302\"]\n      }\n    ],\n    // @ts-ignore\n    sdpSemantics: \"plan-b\"\n  };\n\n  constructor() {}\n\n  ngOnInit() {\n    const user = new User(\"observer\");\n\n    const socket = new WebSocket(\n      `${environment.webSocketUrl}?userId=${user.id}&userType=${user.type}`\n    );\n\n    this.client = {\n      socket,\n      user\n    };\n\n    socket.onopen = (event: MessageEvent) => {\n      console.log(\"Connection Established\", event);\n      this.sendPing(socket);\n    };\n\n    socket.onmessage = (event: MessageEvent) => {\n      const data: UserSocketMessage = JSON.parse(event.data);\n      console.log(\"Message received\", data);\n\n      // Someone joined the stream\n      if (data.type === \"UserJoined\") {\n        // Someone joined the stream\n        const userJoinedSocketMessage = data as UserJoinedSocketMessage;\n\n        this.onUserJoined(\n          userJoinedSocketMessage.allUsers,\n          userJoinedSocketMessage.user.id\n        );\n      } else if (data.type === \"UserLeft\") {\n        // Someone left the stream\n        this.removeUserFromStream(data.user.id);\n      } else {\n        this.gotMessageFromServer(socket,data);\n      }\n    };\n\n    socket.onclose = (event: CloseEvent) => {\n      console.log(\"Connection Closed\");\n      this.onConnectionClosed();\n    };\n\n    window.onunload = window.onbeforeunload = () => {\n      socket.close();\n    };\n  }\n\n  private onConnectionClosed(): void {\n    // Close Camera & Audio peer connection\n    if (this.peerConnectionModerator) {\n      this.peerConnectionModerator.close();\n      delete this.peerConnectionModerator;\n      this.moderatorHtmlElements.video.srcObject = null;\n    }\n\n    if (this.peerConnectionClient) {\n      this.peerConnectionClient.close();\n      delete this.peerConnectionClient;\n      this.clientHtmlElements.video.srcObject = null;\n      this.clientHtmlElements.videoScreenShare.srcObject = null;\n    }\n\n    // Clear associated html elements\n  }\n\n  private removeUserFromStream(userId: string): void {\n    console.log(\"removing user from stream\");\n    if (userId === this.moderatorId && this.peerConnectionModerator) {\n      this.peerConnectionModerator.close();\n      delete this.peerConnectionModerator;\n    }\n\n    if (userId === this.clientId && this.peerConnectionClient) {\n      this.peerConnectionClient.close();\n      delete this.peerConnectionClient;\n    }\n  }\n\n  private receiveOffer(data: UserSocketMessage): void {\n    const payload = data.payload as RTCSessionDescription;\n\n    if (data.user.type === \"moderator\") {\n      console.log(\"receiveOffer moderator\");\n      this.peerConnectionModerator\n        .setRemoteDescription(payload)\n        .then(() => this.peerConnectionModerator.createAnswer())\n        .then(sdp => this.peerConnectionModerator.setLocalDescription(sdp))\n        .then(() => {\n          console.log(\"receiveOffer sendSocketMessage moderator\");\n          this.sendSocketMessage(data.user.id, {\n            payload: this.peerConnectionModerator.localDescription,\n            streamType: data.streamType,\n            type: data.type\n          });\n        });\n    } else if (data.user.type === \"client\") {\n      // Client\n      console.log(\"receiveOffer client\");\n      this.peerConnectionClient\n        .setRemoteDescription(payload)\n        .then(() => this.peerConnectionClient.createAnswer())\n        .then(sdp => this.peerConnectionClient.setLocalDescription(sdp))\n        .then(() => {\n          console.log(\"receiveOffer sendSocketMessage moderator\");\n          this.sendSocketMessage(data.user.id, {\n            payload: this.peerConnectionClient.localDescription,\n            streamType: data.streamType,\n            type: data.type\n          });\n        });\n    }\n  }\n  private sendPing(\n    webSocket: WebSocket) : void {\n\n    setTimeout(() => {\n        webSocket.send(JSON.stringify({ type: \"PingObs\" }));\n      }, 10000); // in milliseconds\n  }\n  \n\n  private gotMessageFromServer(\n    webSocket: WebSocket,\n    data: UserSocketMessage\n  ): void {\n    if (data.type === \"Pong\") {\n      this.sendPing(webSocket);\n       return;\n     }\n\n    if (this.client.user.id === data.user.id) return;\n\n    switch (data.payload.type) {\n      case \"offer\":\n        this.receiveOffer(data);\n        break;\n      case undefined:\n        if (data.user.type === \"moderator\") {\n          console.log(\"icecandidate moderator\");\n          this.peerConnectionModerator.addIceCandidate(\n            new RTCIceCandidate(data.payload as RTCIceCandidateInit)\n          );\n        } else if (data.user.type === \"client\") {\n          console.log(\"icecandidate client\");\n          this.peerConnectionClient.addIceCandidate(\n            new RTCIceCandidate(data.payload as RTCIceCandidateInit)\n          );\n        }\n        break;\n    }\n  }\n\n  private onUserJoined(allUsers: User[], fromUserId: string): void {\n    const moderator = allUsers.find(u => u.type === \"moderator\");\n    if (moderator) {\n      this.moderatorId = moderator.id;\n\n      if (!this.peerConnectionModerator) {\n        console.log(\"create peerconnection moderator\");\n        this.peerConnectionModerator = new RTCPeerConnection(\n          this.configuration\n        );\n\n        console.log(\"onicecandidate moderator\");\n        this.peerConnectionModerator.onicecandidate = iceEvent => {\n          console.log(\"received ICE candidate\");\n          if (iceEvent.candidate) {\n            this.sendSocketMessage(moderator.id, {\n              payload: iceEvent.candidate,\n              streamType: \"video\",\n              type: \"IceCandidate\"\n            });\n          }\n        };\n\n        console.log(\"ontrack moderator\");\n        this.peerConnectionModerator.ontrack = event => {\n          console.log(\"streaming moderator's video here\");\n\n          if (event.streams && event.streams[0]) {\n            const stream: MediaStream = event.streams[0];\n\n            this.moderatorHtmlElements.video.srcObject = stream;\n          } else {\n            console.log(\"nothing to stream\");\n          }\n        };\n      }\n    }\n\n    const client = allUsers.find(u => u.type === \"client\");\n    if (client) {\n      this.clientId = client.id;\n\n      if (!this.peerConnectionClient) {\n        this.peerConnectionClient = new RTCPeerConnection(this.configuration);\n\n        this.peerConnectionClient.onicecandidate = iceEvent => {\n          console.log(\"Sending ice candidate\");\n          if (iceEvent.candidate) {\n            this.sendSocketMessage(client.id, {\n              payload: iceEvent.candidate,\n              streamType: \"video\",\n              type: \"IceCandidate\"\n            });\n          }\n        };\n\n        let counter = 0;\n        this.peerConnectionClient.ontrack = event => {\n          console.log(\"streaming client's video here\");\n\n          let stream: MediaStream;\n          if (event.streams && event.streams[0]) {\n            stream = event.streams[0];\n          } else {\n            console.log(\"nothing to stream\");\n            return;\n          }\n\n          if (stream.getAudioTracks().length) {\n            this.clientHtmlElements.audio.srcObject = stream;\n            if (stream.getVideoTracks().length) {\n              this.clientHtmlElements.video.srcObject = stream;\n              counter = 1;\n            }\n          } else {\n            if (++counter == 2) {\n              this.clientHtmlElements.videoScreenShare.srcObject = stream;\n              counter = 0;\n            } else {\n              this.clientHtmlElements.video.srcObject = stream;\n            }\n          }\n        };\n      }\n    }\n  }\n\n  private sendSocketMessage(toUserId: string, message: SocketMessage): void {\n    this.client.socket.send(\n      JSON.stringify({\n        ...message,\n        user: this.client.user,\n        toUserId\n      })\n    );\n  }\n\n  ngAfterViewInit(): void {\n    this.moderatorHtmlElements = {\n      video: this.incomingModeratorVideoRef.nativeElement\n    };\n\n    this.clientHtmlElements = {\n      audio: this.incomingClientAudioRef.nativeElement,\n      video: this.incomingClientVideoRef.nativeElement,\n      videoScreenShare: this.incomingClientVideoScreenShareRef.nativeElement\n    };\n  }\n\n  private logError(err: any): void {\n    console.log(err.toString(), err);\n  }\n}\n","import { UserType } from \"./types/UserType\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nexport class User {\n  id: string;\n\n  constructor(public type: UserType) {\n    this.id = uuidv4();\n  }\n}\n","import { Injectable } from \"@angular/core\";\nimport { UserLogin } from \"../models/UserLogin\";\nimport users from \"src/assets/users.json\";\nimport { Observable, of } from \"rxjs\";\nimport { User } from \"../models/User\";\nimport { UserType } from \"../models/types/UserType\";\n\n@Injectable()\nexport class UserService {\n  constructor() {}\n\n  authenticate(username: string, password: string): Observable<User> {\n    const authenticatedUser: UserLogin = users.find(\n      (u) => u.username === username && u.password === password\n    ) as UserLogin;\n\n    let result: User;\n    if (authenticatedUser) {\n      let type: UserType = \"observer\";\n      if (authenticatedUser.type === \"CLIENT\") {\n        type = \"client\";\n      } else if (authenticatedUser.type === \"MODERATOR\") {\n        type = \"moderator\";\n      }\n\n      localStorage.setItem(\"PCKSC:user\", JSON.stringify(authenticatedUser));\n      result = new User(type);\n    }\n    return of(result);\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  webSocketUrl: \"ws://localhost:1234\"\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":"webpack:///"}